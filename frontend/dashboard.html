<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Squat Optimizer</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <h1>Squat Optimizer</h1>
            <div class="user-info">
                <span id="user-name">Welcome</span>
                <button id="logout-btn" class="btn btn-secondary">Logout</button>
            </div>
        </header>

        <main class="dashboard-main">
            <section class="upload-section">
                <h2>Analyze Your Squat</h2>
                <div class="upload-area" id="upload-area">
                    <div class="upload-content">
                        <p>Drag and drop your video here</p>
                        <p>or</p>
                        <label for="video-input" class="btn btn-primary">Choose File</label>
                        <input type="file" id="video-input" accept=".mp4,.avi,.mov,.mkv" hidden>
                    </div>
                    <p id="file-name" class="file-name"></p>
                </div>

                <div class="fps-input">
                    <label for="fps">Video FPS:</label>
                    <input type="number" id="fps" value="30" min="1" max="240">
                </div>

                <button id="analyze-btn" class="btn btn-primary" disabled>Analyze Video</button>

                <div id="analysis-loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing your squat... This may take a minute.</p>
                </div>

                <div id="error-message" class="error-message" style="display: none;"></div>
            </section>

            <section id="results-section" class="results-section" style="display: none;">
                <h2>Analysis Results</h2>

                <div class="results-grid">
                    <div class="result-card">
                        <h3>Total Reps</h3>
                        <p id="total-reps" class="result-value">-</p>
                    </div>
                    <div class="result-card">
                        <h3>Min Knee Angle</h3>
                        <p id="min-angle" class="result-value">-</p>
                    </div>
                    <div class="result-card">
                        <h3>Avg Tempo</h3>
                        <p id="avg-tempo" class="result-value">-</p>
                    </div>
                    <div class="result-card">
                        <h3>Bar Path Deviation</h3>
                        <p id="bar-dev" class="result-value">-</p>
                    </div>
                </div>

                <div class="feedback-section">
                    <h3>AI Coaching Feedback</h3>
                    <p id="ai-feedback" class="feedback-text">-</p>
                </div>

                <div class="reps-breakdown">
                    <h3>Rep Breakdown</h3>
                    <div id="reps-list" class="reps-list"></div>
                </div>
            </section>

            <section class="history-section">
                <h2>Workout History</h2>
                <div id="sessions-list" class="sessions-list">
                    <p class="loading-text">Loading sessions...</p>
                </div>
            </section>
        </main>
    </div>

    <script src="js/dashboard.js"></script>
</body>

</html>